<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head th:replace="~{fragments/head :: head('Home')}">

<body class="bg-secondary-subtle">
    <nav th:insert="~{fragments/navbar ::navbar}"></nav>

    <main class="container">
        <h1 class="text-center">Dettagli ticket</h1>

        <table class="table table-info table-striped">
            <thead>
                <tr>
                    <th>id</th>
                    <th>Titolo ticket</th>
                    <th>Prodotto di riferimento</th>
                    <th>Data Creazione</th>
                    <th>Stato</th>
                    <th>Operatore</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr th:object="${ticket}">
                    <td>[[*{id}]]</td>
                    <td>[[*{titolo}]]</td>
                    <td>[[*{nomeProdotto}]]</td>
                    <td>[[*{dataCreazione}]]</td>
                    <td>[[*{stato}]]</td>
                    <td>[[*{user.nome}]]</td>
                    <td>
                        <a th:href="@{|/tickets/{id}/nota|(id=*{id})}" class="btn btn-primary">Aggiungi nota</a>
                    </td>
                </tr>
            </tbody>

        </table>

        <h3>Note</h3>

        <ul th:each="nota : ${ticket.note}">
            <li>[[${nota.id}]]</li>
            <li>[[${nota.titolo}]]</li>
            <li>[[${nota.testoNota}]]</li>
            <li>[[${nota.dataCreazione}]]</li>
        </ul>



    </main>

    <th:block th:insert="~{fragments/footer :: script}"></th:block>
</body>

</html>